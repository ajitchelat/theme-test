<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Create an image from an Azure VM - Azure RemoteApp</title>
  

  <link rel="shortcut icon" href="
https://www.citrix.com/etc/designs/citrix/icon-favicon.png">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link rel="stylesheet" href="../css/override.css" type="text/css" />
  <link href="../css/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Create an image from an Azure VM";
    var mkdocs_page_input_path = "remoteapp-image-on-azurevm.md";
    var mkdocs_page_url = "/remoteapp-image-on-azurevm/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 
  <script src="../js/extra.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

	<div class="header-top">
		<div class="header-top-left">
			<a href="http://www.citrix.com" class="logo-position"><img height="60" src="https://thumbnail-ec2.sharefile.com/thumbnail.aspx?encparams=ypL2J0l-In6gqXJ7yeyKP8A1rqwKMH-C8-nfkJcHJNIN7Y0yZiJsYOcUe-uc0YeZzWLQSFSd1FnuMHPa30XSSINHuGOA8nvvnBT5WmjGlKvd5mxJ4IfT7iTVyHELwhWQiNCznPCiIFyhkA78uKX77PlU2iyhM4YdRM1NKabBe-4wXuiFJsbtAxyJ2UukO_E2ZSf1W3l75Dw8G0zflVkT-EFqyx1zSGId0qzLjm6nzJ8dA9zo-1AJzUisdzmGMzHOq_LMsOWyaalvmcWvCkl-q10GBSbfekfTIFW9LpZNYjkLNSnK8rcwNjWVr_jYayrGjIj2e5dDIMiDj3NRvW51AvHRjxYH9xRRRtY$" target="_blank" class="logo-citrix"><span style="color:#fff;font-size: 20px;position: relative;top:4px;left: 5px">SDK Reference</span></a>
		</div>
		<div class="header-top-right">
			<ul>
			<!--	<li class="list-inline home"><a href="..">HOME</a></li>
				<li class="list-inline support"><a href="http://support.citrix.com">SUPPORT</a></li>-->
				<form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <li class="list-inline support"><input name="q" id="txtName" type="text" placeholder="Search SDKs"
            class="searchdocs">
<a class="fa fa-search errspan"></a></li>
</form>
				<!--<li class="list-inline"><a href="http://citrix.com/download">DOWNLOADS</a></li>-->
			</ul>

		</div>
	</div>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
	<i class="fa fa-search"></i>
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Overview</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-whatis/">What is Azure RemoteApp?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-licensing/">How does licensing work?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-faq/">FAQ</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-whatsnew/">What's new?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-roadmap/">What's coming?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../azure-subscription-service-limits/">Azure service limits</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Real world scenarios</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-anyapp/">Run any app on any device</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-tutorial-o365anywhere/">Run Office 365 on any device</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Will my app work?</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-appreqs/">App requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-onedrive/">OneDrive for Business</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-sql/">SQL Azure</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-o365/">Office 365</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-outlook/">Outlook 2013</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-appv/">Using App-V apps</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-quickbooks/">QuickBooks on Azure RemoteApp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-secure/">Secure apps and resources</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Create a RemoteApp collection</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-collections/">Which collection do you need?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-create-cloud-deployment/">Create a cloud collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-create-hybrid-deployment/">Create a hybrid collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-update/">Update your collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-imageoptions/">Create a RemoteApp image</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-images/">What is in the template image?</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-imagereqs/">Image requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-uploadimage/">Upload an image</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Create an image from an Azure VM</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#create-a-azure-remoteapp-image-based-on-an-azure-virtual-machine">Create a Azure RemoteApp image based on an Azure virtual machine</a></li>
                
                    <li><a class="toctree-l4" href="#create-a-custom-image-based-on-an-azure-vm">Create a custom image based on an Azure VM</a></li>
                
                    <li><a class="toctree-l4" href="#import-the-image-into-the-azure-remoteapp-image-library">Import the image into the Azure RemoteApp image library</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Configure a Virtual Network</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-planvnet/">Plan your VNET</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-ports/">Port and URL info</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-vnet/">Validate your VNET</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-migrate/">Migrate to an Azure VNET</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Publish applications</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-publish/">How to publish an app</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Manage Users</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-user/">How to add users</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-ad/">Configure Active Directory</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-changetenant/">Change the Azure AD tenant</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-o365user/">Office 365 user accounts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-secureaccess/">Secure Data</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-upd/">User data</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Client experience</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-clients/">Supported clients</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-redirection/">Configure redirection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-bestpractices/">Client best practices</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Automate RemoteApp</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-tutorial-arawithpowershell/">RemoteApp PowerShell cmdlets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../automation-manage-remote-app/">Manage RemoteApp with Azure Automation</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Troubleshoot</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-hybridtrouble/">Troubleshoot a hybrid collection</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../remoteapp-cloudtrouble/">Troubleshoot a cloud collection</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      


      
      <div class="wy-nav-content">
        <div class="rst-content">
         <!-- <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Create a RemoteApp collection &raquo;</li>
        
      
    
    <li>Create an image from an Azure VM</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div> -->
          <div role="main">
            <div class="section">
             
                <p><properties
    pageTitle="Create an Azure RemoteApp image based on an Azure VM | Microsoft Azure"
    description="Learn how to create an image for Azure RemoteApp by starting with an Azure virtual machine."
    services="remoteapp"
    documentationCenter=""
    authors="lizap"
    manager="mbaldwin" /></p>
<p><tags
    ms.service="remoteapp"
    ms.workload="compute"
    ms.tgt_pltfrm="na"
    ms.devlang="na"
    ms.topic="article"
    ms.date="08/15/2016" 
    ms.author="elizapo" /></p>
<h1 id="create-a-azure-remoteapp-image-based-on-an-azure-virtual-machine">Create a Azure RemoteApp image based on an Azure virtual machine</h1>
<blockquote>
<p>[AZURE.IMPORTANT]
Azure RemoteApp is being discontinued. Read the <a href="https://go.microsoft.com/fwlink/?linkid=821148">announcement</a> for details.</p>
</blockquote>
<p>You can create Azure RemoteApp images (which hold the apps you share in your collection) from an Azure virtual machine. You could also choose to use a virtual machine image we added to the Azure VM image gallery that meets all the Azure RemoteApp image requirements - you can use that VM image as a starting point for your own VM, if you want. Just look for the "Windows Server Remote Desktop Session Host" image in the library.</p>
<p>There are two steps to create your own image based on an Azure VM - create the image and then upload it from the Azure VM library to Azure RemoteApp.</p>
<h2 id="create-a-custom-image-based-on-an-azure-vm">Create a custom image based on an Azure VM</h2>
<p>Use these steps to create an image based on an Azure VM.</p>
<ol>
<li>
<p>Create an Azure virtual machine. You can use the “Windows Server Remote Desktop Session Host” or the "Windows Server Remote Desktop Session Host with Microsoft Office 365 ProPlus" image from the Azure virtual machine image gallery. This image meets all the Azure RemoteApp template image requirements.</p>
<p>For details, see <a href="">Create a VM running Windows</a>.</p>
</li>
<li>
<p>Connect to the VM and install and configure the apps that you want to share through RemoteApp. Make sure to perform any additional Windows configurations required by your apps.</p>
<p>For details, see <a href="">How to Log on to a Virtual Machine Running Windows Server</a>.</p>
</li>
<li>
<p>If you are using one of the Windows Server Remote Desktop Session Host images, there is an included validation script that will ensure your VM meets the RemoteApp pre-reqs. To run script, double-click <strong>ValidateRemoteAppImage</strong> on the desktop. Ensure that all errors reported by the script are fixed before proceeding to the next step.</p>
</li>
<li>
<p>SYSPREP generalize and capture the image. See <a href="">How to Capture a Windows Virtual Machine to Use as a Template</a> for instructions.</p>
</li>
</ol>
<h2 id="import-the-image-into-the-azure-remoteapp-image-library">Import the image into the Azure RemoteApp image library</h2>
<p>Use these steps to import the new image into Azure RemoteApp:</p>
<ol>
<li>
<p>In the <strong>Template Images</strong> tab:</p>
<ul>
<li>If you have no existing images, click <strong>Upload or Import a Template Image</strong>.</li>
<li>If you have at least one image already, click <strong>+</strong> to add a new image.</li>
</ul>
</li>
<li>
<p>Select <strong>Import an image from your Virtual Machines</strong> library, and then click <strong>Next</strong>.</p>
</li>
<li>
<p>On the next page, select your custom image from the list and confirm that you followed the steps listed when you created your image. Click <strong>Next</strong>.</p>
</li>
<li>Enter a name for the new RemoteApp image and pick the location, then click the checkmark to start the import process.</li>
</ol>
<blockquote>
<p>[AZURE.NOTE] You can import images from any Azure location supported by Azure Virtual Machines to any Azure location supported by Azure RemoteApp. Depending on the locations the import can take up to 25 minutes.</p>
</blockquote>
<p>Now you are ready to create your new collection, either a <a href="../remoteapp-create-cloud-deployment/">cloud</a> collection or <a href="../remoteapp-create-hybrid-deployment/">hybrid</a>, depending on your needs.</p>
              

            </div>
            <div id="disqus_thread"></div>
            <script>

            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://citrix-github-io.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

          </div>

        </div>
      </div>

    </section>

  </div>

<!--<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span class="prev"><a href="../remoteapp-uploadimage/"><i class="fa fa-angle-left"></i> Previous</a></span>
      
      
        <span class="next"><a href="../remoteapp-planvnet/">Next <i class="fa fa-angle-right"></i></a></span>
      
    </span>
	<div class="footer-right">
		<ul class="social-links">
			<li class="list-inline"><a href="https://twitter.com/citrix"><i class="fa fa-twitter"></i>@citrix</a></li>
			<li class="list-inline"><a href="mailto:support@citrix.com"><i class="fa fa-envelope-o"></i>support@citrix.com</a></li>
		</ul>
		<ul class="inner-pages">
			<li class="list-inline"><a href="http://citrix.com/about/legal">Privacy and Terms</li>
		</ul>
	</div>
</div>-->

</body>
</html>
